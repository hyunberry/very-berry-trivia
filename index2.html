<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Very Berry Trivia</title>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Pixelify+Sans&display=swap" rel="stylesheet">

<style>
*{box-sizing:border-box}
body{
  margin:0;min-height:100vh;
  background:url('macaroni.jpeg') repeat;
  color:white;font-family:'SN Pro',sans-serif;
  display:flex;justify-content:center;align-items:center;
  overflow:hidden;
}
.screen{text-align:center;z-index:2}
h1{font-family:'Pixelify Sans';}
button{background:#ff7fb2;border:none;padding:14px 26px;
border-radius:12px;font-size:20px;color:white;cursor:pointer}
.answers button{display:block;margin:10px auto;width:260px}
.overlay{position:fixed;inset:0;display:flex;justify-content:center;align-items:center;background:black;z-index:10}
</style>
</head>
<body>

<audio id="bgm" src="bgm.mp3" loop></audio>

<div id="menu" class="screen">
  <h1>Very Berry Trivia</h1>
  <button onclick="startGame()">Start!</button>
</div>

<div id="game" class="screen" style="display:none">
  <h2 id="question"></h2>
  <div id="answers" class="answers"></div>
</div>

<div id="win" class="screen" style="display:none">
  <h1>You win!!</h1>
  <button onclick="toMenu()">Main Menu</button>
</div>

<script>
const bgm=document.getElementById('bgm');
let q=0;

const questions=[
 {q:"#1 How many Crypton Vocaloids are there?",a:['Five','Seven','Six','Four'],c:2},
 {q:"#2 How many SpongeBob seasons are there?",a:['10','12','18','15'],c:3},
 {q:"#3 According to Shay's Carrd who is her idol?",a:['SpongeBob','Hyunjin','Lady Gaga','Jim Carrey'],c:1},
 {q:"#4 Let's go on a date. Where do I wanna take you?",a:['My house','A fancy restaurant','The arcade','Nowhere'],c:3,special:true},
 {q:"#5 What is 1 + 4 + 3?",a:['10','8','32','55'],c:1},
 {q:"#6 Which is NOT etiquette?",a:['No phones','Chew closed','No meowing','No napkins'],c:3},
 {q:"I know you're alone.",a:['Run','Run','Run','Run'],c:null,panic:true},
 {q:"#8 What would you like to eat?",a:['Mayo','Soup','Fish','Cheeseburger'],c:3},
 {q:"#9 How are you feeling?",a:['Happy','Sleepy','Angry','Afraid'],c:3},
 {q:"#10 When was the Constitution written?",a:['1802','1710','1717','1787'],c:3},
];

function startGame(){
 menu.style.display='none';
 game.style.display='block';
 bgm.play();
 load();
}

function load(){
 answers.innerHTML='';
 question.textContent=questions[q].q;
 questions[q].a.forEach((t,i)=>{
  const b=document.createElement('button');
  b.textContent=t;
  b.onclick=()=>answer(i);
  answers.appendChild(b);
 });
}

function answer(i){
 const cur=questions[q];

 if(cur.special && i===3){
  bgm.pause();
  showImage('nowhere2.jpg',3000,next);
  return;
 }

 if(cur.panic){
  bgm.pause();
  document.body.style.background='black';
  showImage('train.gif',5000,()=>{
   bgm.play();
   next();
  });
  return;
 }

 next();
}

function next(){ q++; q>=questions.length?winGame():load(); }

function winGame(){
 bgm.pause();
 game.style.display='none';
 win.style.display='block';
}

function toMenu(){ window.location.href="index3.html"; }

function showImage(src,time,cb){
 const o=document.createElement('div');
 o.className='overlay';
 const i=document.createElement('img');i.src=src;
 o.appendChild(i);document.body.appendChild(o);
 setTimeout(()=>{o.remove();cb();},time);
}
</script>
</body>
</html>
